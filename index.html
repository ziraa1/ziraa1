<?php
// File upload handling in PHP
$uploadOk = 1;
$target_dir = "uploads/";
$target_file = $target_dir . basename($_FILES["fileToUpload"]["name"]);
$fileType = strtolower(pathinfo($target_file, PATHINFO_EXTENSION));

// Cek jika file adalah gambar atau tidak
if (isset($_POST["submit"])) {
    $check = getimagesize($_FILES["fileToUpload"]["tmp_name"]);
    if ($check !== false) {
        $uploadOk = 1;
    } else {
        echo "File is not an image.";
        $uploadOk = 0;
    }
}

// Cek jika file sudah ada
if (file_exists($target_file)) {
    echo "Sorry, file already exists.";
    $uploadOk = 0;
}

// Cek ukuran file
if ($_FILES["fileToUpload"]["size"] > 500000) {
    echo "Sorry, your file is too large.";
    $uploadOk = 0;
}

// Hanya izinkan file tertentu
if ($fileType != "jpg" && $fileType != "png" && $fileType != "jpeg" && $fileType != "gif") {
    echo "Sorry, only JPG, JPEG, PNG & GIF files are allowed.";
    $uploadOk = 0;
}

// Jika semuanya baik-baik saja, coba upload file
if ($uploadOk == 0) {
    echo "Sorry, your file was not uploaded.";
} else {
    if (move_uploaded_file($_FILES["fileToUpload"]["tmp_name"], $target_file)) {
        echo "The file " . htmlspecialchars(basename($_FILES["fileToUpload"]["name"])) . " has been uploaded.";
    } else {
        echo "Sorry, there was an error uploading your file.";
    }
}
?>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Zira</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background: url('https://png.pngtree.com/background/20210716/original/pngtree-soft-pink-pastel-ink-background-picture-image_1344872.jpg') no-repeat center center/cover;
            position: relative;
        }

        /* === NAVIGASI === */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .navbar a {
            text-decoration: none;
            color: #660033;
            font-weight: bold;
            padding: 10px 15px;
            transition: 0.3s;
        }

        .navbar a:hover {
            background: rgba(255, 182, 193, 0.5);
            border-radius: 5px;
        }

        /* === Animasi Pita Besar === */
        .ribbon {
            position: absolute;
            width: 200px; /* Ukuran pita lebih besar */
            height: auto;
            animation: floatRibbon 3s ease-in-out infinite;
        }

        .ribbon img {
            width: 100%;
        }

        .ribbon:nth-child(1) { top: 10%; left: 10%; animation-duration: 4s; }
        .ribbon:nth-child(2) { top: 30%; left: 45%; animation-duration: 5s; }
        .ribbon:nth-child(3) { top: 50%; left: 80%; animation-duration: 6s; }

        @keyframes floatRibbon {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }

        /* === Teks Judul === */
        h1 {
            color: #660033;
            font-family: Arial, sans-serif;
            font-size: 2rem;
            position: absolute;
            top: 15%; 
            animation: floatText 3s ease-in-out infinite;
            text-shadow: none;
        }

        @keyframes floatText {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* === Animasi Awan === */
        .cloud {
            position: absolute;
            width: 100px;
            animation: moveClouds 15s linear infinite;
        }

        .cloud:nth-child(2) { top: 10%; left: 10%; animation-duration: 18s; }
        .cloud:nth-child(3) { top: 50%; left: 50%; animation-duration: 18s; }
        .cloud:nth-child(4) { bottom: 5%; left: 70%; animation-duration: 18s; }

        @keyframes moveClouds {
            0% { transform: translateX(-150px); opacity: 1; }
            100% { transform: translateX(100vw); opacity: 0; }
        }

        /* === FORM UPLOAD TUGAS === */
        .file-upload {
            position: absolute;
            bottom: 10%;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .file-upload input[type="file"] {
            margin-top: 10px;
        }

        .file-upload button {
            background: #660033;
            color: white;
            border: none;
            padding: 8px 15px;
            margin-top: 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }

        .file-upload button:hover {
            background: #99004d;
        }
    </style>
</head>
<body>

    <!-- NAVIGASI -->
    <div class="navbar">
        <a href="#">Home</a>
        <a href="#">Upload Tugas</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
    </div>

    <!-- Pita Animasi Besar -->
    <div class="ribbon">
        <img src="https://static.vecteezy.com/system/resources/previews/036/134/174/non_2x/pink-coquette-ribbon-bow-doodle-hand-drawn-png.png" alt="Pita">
    </div>
    <div class="ribbon">
        <img src="https://static.vecteezy.com/system/resources/previews/036/134/174/non_2x/pink-coquette-ribbon-bow-doodle-hand-drawn-png.png" alt="Pita">
    </div>
    <div class="ribbon">
        <img src="https://static.vecteezy.com/system/resources/previews/036/134/174/non_2x/pink-coquette-ribbon-bow-doodle-hand-drawn-png.png" alt="Pita">
    </div>

    <!-- Judul -->
    <h1>Hallo! Web ini dibuat spesial untukmu, ayo eksplor!</h1>

    <!-- Awan Animasi -->
    <img src="https://png.pngtree.com/png-clipart/20220502/original/pngtree-awan-biru-png-png-image_7635012.png" class="cloud" style="top: 10%; left: 10%;" alt="Awan">
    <img src="https://png.pngtree.com/png-clipart/20220502/original/pngtree-awan-biru-png-png-image_7635012.png" class="cloud" style="top: 50%; left: 50%;" alt="Awan">
    <img src="https://png.pngtree.com/png-clipart/20220502/original/pngtree-awan-biru-png-png-image_7635012.png" class="cloud" style="bottom: 5%; left: 70%;" alt="Awan">

    <!-- FORM UPLOAD TUGAS -->
    <div class="file-upload">
        <h3>Upload Tugas Kamu</h3>
        <form action="upload.php" method="post" enctype="multipart/form-data">
            <input type="file" name="fileToUpload">
            <button type="submit" name="submit">Upload</button>
        </form>
    </div>

</body>
</html>
